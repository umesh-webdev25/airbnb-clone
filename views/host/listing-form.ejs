<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Add Listing | Dream Homes</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <script src="https://unpkg.com/lucide-icons@latest/dist/umd/lucide.min.js"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            'playfair': ['"Playfair Display"', 'serif'],
            'poppins': ['Poppins', 'sans-serif'],
          },
          colors: {
            'purple': {
              '50': '#f5f3ff',
              '100': '#ede9fe',
              '200': '#ddd6fe',
              '300': '#c4b5fd',
              '400': '#a78bfa',
              '500': '#8b5cf6',
              '600': '#7c3aed',
              '700': '#6d28d9',
              '800': '#5b21b6',
              '900': '#4c1d95',
            }
          }
        }
      }
    }
  </script>
  <style>
    .gradient-text {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }
    .form-card {
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(10px);
      box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.18);
    }
    .input-focus {
      transition: all 0.3s ease;
    }
    .input-focus:focus {
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
    }
    .bg-color {
   background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
  </style>
</head>
<body class="bg-gradient-to-br from-purple-50 via-white to-purple-100 min-h-screen font-poppins">

  <%- include('../partials/nav') %>

  <div class="flex justify-center items-center py-12 px-4">
    <div class="form-card rounded-2xl p-8 w-full max-w-lg hover:shadow-xl transition-all duration-300">
      <!-- Header with decorative elements -->
      <div class="text-center mb-8 relative">
        <div class="absolute -top-6 -left-6 w-12 h-12 rounded-full bg-purple-200 opacity-20"></div>
        <div class="absolute -bottom-6 -right-6 w-16 h-16 rounded-full bg-purple-300 opacity-20"></div>
        
        <h2 class="text-4xl font-bold font-playfair gradient-text mb-2">Create Listing</h2>
        <p class="text-gray-500">Share your beautiful space with the world</p>
      </div>

      <!-- Error Message -->
      <% if (typeof errorMessage === 'string' && errorMessage) { %>
        <div class="mb-6 p-4 bg-red-50 border-l-4 border-red-500 rounded">
          <div class="flex items-center">
            <i data-lucide="alert-triangle" class="text-red-500 mr-2"></i>
            <span class="text-red-700 font-medium"><%= errorMessage %></span>
          </div>
        </div>
      <% } %>

      <!-- Form -->
      <form action="/listings" method="POST" class="space-y-6">
        <!-- Home -->
        <div class="space-y-1">
          <label class="block text-sm font-medium text-gray-700">Property Name</label>
          <div class="relative">
            <i data-lucide="home" class="absolute left-3 top-3 text-gray-400"></i>
            <input 
              type="text" 
              name="home" 
              placeholder="e.g., Sunset Villa" 
              value="<%= values && values.home ? values.home : '' %>"
              required
              class="input-focus w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:border-purple-400 focus:ring-0" 
            />
          </div>
          <p class="text-xs text-gray-500">Give your property a descriptive name</p>
        </div>

        <!-- Location Fields -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <!-- Country -->
          <div class="space-y-1">
            <label class="block text-sm font-medium text-gray-700">Country</label>
            <div class="relative">
              <i data-lucide="map-pin" class="absolute left-3 top-3 text-gray-400"></i>
              <input 
                type="text" 
                name="country" 
                placeholder="e.g., India" 
                value="<%= values && values.country ? values.country : '' %>"
                required
                class="input-focus w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:border-purple-400 focus:ring-0" 
              />
            </div>
          </div>
          
          <!-- City -->
          <div class="space-y-1">
            <label class="block text-sm font-medium text-gray-700">City</label>
            <div class="relative">
              <i data-lucide="building-2" class="absolute left-3 top-3 text-gray-400"></i>
              <input 
                type="text" 
                name="city" 
                placeholder="e.g., Goa" 
                value="<%= values && values.city ? values.city : '' %>"
                required
                class="input-focus w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:border-purple-400 focus:ring-0" 
              />
            </div>
          </div>
        </div>

        <!-- Price -->
        <div class="space-y-1">
          <label class="block text-sm font-medium text-gray-700">Price per night (â‚¹)</label>
          <div class="relative">
            <i data-lucide="indian-rupee" class="absolute left-3 top-3 text-gray-400"></i>
            <input 
              type="number" 
              min="0" 
              step="100" 
              name="price" 
              placeholder="e.g., 2500" 
              value="<%= values && values.price ? values.price : '' %>"
              required
              class="input-focus w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:border-purple-400 focus:ring-0" 
            />
          </div>
        </div>

        <!-- Image URL -->
        <div class="space-y-1">
         
          <p class="text-xs text-gray-500">We'll use a default image if not provided</p>
        </div>

        <!-- Submit Button -->
        <div class="pt-4">
          <button 
            type="submit"
            class=" bg-color w-full flex items-center justify-center gap-2 text-white py-4 px-6 rounded-xl font-medium text-lg shadow-lg hover:shadow-xl transition-all duration-300"
          >
            <i data-lucide="plus-circle" class="w-5 h-5"></i>
            Create Listing
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Decorative elements -->
  <div class="fixed -bottom-20 -left-20 w-64 h-64 rounded-full bg-purple-100 opacity-20 -z-10"></div>
  <div class="fixed -top-20 -right-20 w-80 h-80 rounded-full bg-purple-200 opacity-10 -z-10"></div>

  <script>
    lucide.createIcons();
  </script>

<footer class="bg-white border-t border-gray-200 py-8">
  <div class="container mx-auto px-4">
    <p class="text-center text-gray-500 text-sm">
      &copy; 2023 Dream Homes. All rights reserved.
    </p>
  </div>
</footer>
</body>
</html>